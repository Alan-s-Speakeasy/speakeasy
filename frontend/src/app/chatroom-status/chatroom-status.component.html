<div class="container mt-3">

  <br>

  <div class="row p-2">
    <div class="col-9">
      <h3>Chatroom Details</h3>
    </div>
    <div class="col-3">
      <button type="button" class="btn btn-secondary float-end" (click)="home()">Home</button>
    </div>
  </div>

  <div class="row p-2">
    <h4 class="text-center">Activate Chatrooms</h4>
    <table class="table table-striped table-bordered">
      <thead>
      <tr class="table-success">
        <th scope="col">RoomPrompt</th>
        <th scope="col">RoomID</th>
        <th scope="col">StartTime</th>
        <th scope="col">RemainingTime</th>
        <th scope="col">Members</th>
        <th scope="col">Watch</th>
      </tr>
      </thead>
      <tbody>
      <tr class="align-middle" *ngFor="let chatroomDetail of activateChatroomDetails">
        <td>{{chatroomDetail.prompt}}</td>
        <td>{{chatroomDetail.roomID}}</td>
        <td>{{chatroomDetail.startTime | date:'HH:mm:ss dd-MM-yyyy'}}</td>
        <td>{{chatroomDetail.remainingTime | date: 'mm:ss'}}</td>
        <td>
          <span *ngFor="let user of getUsers(chatroomDetail.sessions)">{{user}} <br> </span>
        </td>
        <td><button type="button" class="btn btn-secondary float-end" (click)="watch(chatroomDetail)">Watch</button></td>
      </tr>
      </tbody>
    </table>
  </div>

  <br>

  <div class="row p-2">
    <h4 class="text-center">All Chatrooms</h4>
    <table class="table table-striped table-bordered">
      <thead>
      <tr class="table-info">
        <th scope="col">RoomPrompt</th>
        <th scope="col">RoomID</th>
        <th scope="col">StartTime</th>
        <th scope="col">Status</th>
        <th scope="col">Members</th>
        <th scope="col">Watch</th>
      </tr>
      </thead>
      <tbody>
      <tr class="align-middle" *ngFor="let chatroomDetail of allChatroomDetails">
        <td>{{chatroomDetail.prompt}}</td>
        <td>{{chatroomDetail.roomID}}</td>
        <td>{{chatroomDetail.startTime | date:'HH:mm:ss dd-MM-yyyy'}}</td>
        <td *ngIf="chatroomDetail.remainingTime > 0">Ongoing</td>
        <td *ngIf="chatroomDetail.remainingTime <= 0">Closed</td>
        <td>
          <span *ngFor="let user of getUsers(chatroomDetail.sessions)">{{user}} <br> </span>
        </td>
        <td><button type="button" class="btn btn-secondary float-end" (click)="watch(chatroomDetail)">Watch</button></td>
      </tr>
      </tbody>
    </table>
  </div>

</div>
