<div class="container mt-3">

  <br>
  <div class="row p-2">
    <div class="col-9">
      <h3>Assessed Chat Rooms</h3>
    </div>
    <div class="col-3">
      <button type="button" class="btn btn-secondary float-end" (click)="home()">Home</button>
    </div>
  </div>
  <div class="p-2" *ngIf="averageFeedbackRequested">
    <h4> <span class="font-italic" style="color: #008800"> Requested by Yourself :</span>
      Average Rating (of {{averageFeedbackRequested.count}} Evaluation{{averageFeedbackRequested.count > 1 ? "s" : ""}})</h4>
    <table class="table">
      <thead>
      <tr>
        <th scope="col" *ngFor="let question of ratingForm.slice(0, -1)">{{question.shortname}}</th>
      </tr>
      </thead>
      <tbody>
      <tr class="align-middle">
        <td *ngFor="let response of averageFeedbackRequested.responses.slice(0, -1)">{{idToText(response)}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="p-2" *ngIf="averageFeedbackAssigned">
    <h4><span class="font-italic" style="color: #0d6efd">Assigned by TAs:</span>
      Average Rating (of {{averageFeedbackAssigned.count}} Evaluation{{averageFeedbackAssigned.count > 1 ? "s" : ""}})</h4>
  <table class="table">
    <thead>
    <tr>
      <th scope="col" *ngFor="let question of ratingForm.slice(0, -1)">{{question.shortname}}</th>
    </tr>
    </thead>
    <tbody>
    <tr class="align-middle">
      <td *ngFor="let response of averageFeedbackAssigned.responses.slice(0, -1)">{{idToText(response)}}</td>
    </tr>
    </tbody>
  </table>
  </div>

  <div class="p-2" *ngIf="paneLogs.length > 0">
    <h4>Detailed Assessments and Chat Histories</h4>
    <div *ngFor="let paneLog of paneLogs">
      <div class="row p-2 mb-3">
        <div class="col-7">
          <app-rating-pane-history [paneLog]="paneLog"></app-rating-pane-history>
        </div>

        <div class="col-5">
          <app-chat-pane [paneLog]="paneLog"></app-chat-pane>
        </div>
      </div>
    </div>
  </div>
</div>
